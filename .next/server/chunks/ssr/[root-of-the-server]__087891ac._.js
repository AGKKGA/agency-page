module.exports=[95519,(a,b,c)=>{"use strict";b.exports=a.r(2827).vendored.contexts.HooksClientContext},16268,(a,b,c)=>{"use strict";b.exports=a.r(2827).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},1851,(a,b,c)=>{"use strict";b.exports=a.r(2827).vendored.contexts.AppRouterContext},21813,(a,b,c)=>{"use strict";b.exports=a.r(2827).vendored["react-ssr"].ReactServerDOMTurbopackClient},73963,a=>{"use strict";var b=a.i(81629),c=a.i(84365),d=a.i(96286),e=a.i(23867),f=a.i(89760),g=a.i(97823),h=a.i(10298),i=a.i(35200),j=a.i(40695),k=a.i(3130),l=a.i(5522),m=a.i(58213),n=a.i(54505);function o(){let a=(0,f.useRouter)(),o=(0,f.useSearchParams)().get("token"),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),t=(0,d.useForm)({resolver:(0,e.zodResolver)(n.resetPasswordSchema),defaultValues:{password:"",confirmPassword:""}});async function u(b){if(o){q(!0);try{let c=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,password:b.password})}),d=await c.json();if(!c.ok)return void i.toast.error(d.error||"Failed to reset password");i.toast.success("Password reset successful!"),a.push("/login")}catch(a){i.toast.error("An error occurred. Please try again.")}finally{q(!1)}}}return((0,c.useEffect)(()=>{o?async function(){try{let a=await fetch(`/api/auth/verify-reset-token?token=${o}`);s(a.ok)}catch(a){s(!1)}}():s(!1)},[o]),null===r)?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,b.jsx)(k.Card,{className:"w-full max-w-md",children:(0,b.jsx)(k.CardContent,{className:"flex items-center justify-center p-6",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})})}):!1===r?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,b.jsxs)(k.Card,{className:"w-full max-w-md",children:[(0,b.jsxs)(k.CardHeader,{className:"space-y-1",children:[(0,b.jsx)(k.CardTitle,{className:"text-2xl font-bold text-center",children:"Invalid Link"}),(0,b.jsx)(k.CardDescription,{className:"text-center",children:"This password reset link is invalid or has expired."})]}),(0,b.jsx)(k.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(j.Button,{asChild:!0,className:"w-full",children:(0,b.jsx)(g.default,{href:"/forgot-password",children:"Request New Link"})}),(0,b.jsx)(j.Button,{asChild:!0,variant:"outline",className:"w-full",children:(0,b.jsx)(g.default,{href:"/login",children:"Back to Login"})})]})})]})}):(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,b.jsxs)(k.Card,{className:"w-full max-w-md",children:[(0,b.jsxs)(k.CardHeader,{className:"space-y-1",children:[(0,b.jsx)(k.CardTitle,{className:"text-2xl font-bold text-center",children:"Reset Password"}),(0,b.jsx)(k.CardDescription,{className:"text-center",children:"Enter your new password below"})]}),(0,b.jsx)(k.CardContent,{children:(0,b.jsx)(m.Form,{...t,children:(0,b.jsxs)("form",{onSubmit:t.handleSubmit(u),className:"space-y-4",children:[(0,b.jsx)(m.FormField,{control:t.control,name:"password",render:({field:a})=>(0,b.jsxs)(m.FormItem,{children:[(0,b.jsx)(m.FormLabel,{children:"New Password"}),(0,b.jsx)(m.FormControl,{children:(0,b.jsx)(l.Input,{type:"password",placeholder:"••••••••",...a,disabled:p})}),(0,b.jsx)(m.FormMessage,{})]})}),(0,b.jsx)(m.FormField,{control:t.control,name:"confirmPassword",render:({field:a})=>(0,b.jsxs)(m.FormItem,{children:[(0,b.jsx)(m.FormLabel,{children:"Confirm Password"}),(0,b.jsx)(m.FormControl,{children:(0,b.jsx)(l.Input,{type:"password",placeholder:"••••••••",...a,disabled:p})}),(0,b.jsx)(m.FormMessage,{})]})}),(0,b.jsxs)(j.Button,{type:"submit",className:"w-full",disabled:p,children:[p&&(0,b.jsx)(h.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Reset Password"]})]})})})]})})}function p(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),children:(0,b.jsx)(o,{})})}a.s(["default",()=>p])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__087891ac._.js.map