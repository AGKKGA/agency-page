{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.1.6_%40babel%2Bcore%407.2_9d8d1bf7a8807769963b5151bd760c41/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/.pnpm/next%4016.1.6_%40babel%2Bcore%407.2_9d8d1bf7a8807769963b5151bd760c41/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/.pnpm/next%4016.1.6_%40babel%2Bcore%407.2_9d8d1bf7a8807769963b5151bd760c41/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/.pnpm/next%4016.1.6_%40babel%2Bcore%407.2_9d8d1bf7a8807769963b5151bd760c41/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardDescription,\r\n    CardFooter,\r\n    CardHeader,\r\n    CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n    Form,\r\n    FormControl,\r\n    FormField,\r\n    FormItem,\r\n    FormLabel,\r\n    FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { loginSchema, type LoginFormData } from \"@/lib/validations/auth\";\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const form = useForm<LoginFormData>({\r\n        resolver: zodResolver(loginSchema),\r\n        defaultValues: {\r\n            email: \"\",\r\n            password: \"\",\r\n        },\r\n    });\r\n\r\n    async function onSubmit(data: LoginFormData) {\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await fetch(\"/api/auth/login\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(data),\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (!response.ok) {\r\n                toast.error(result.error || \"Login failed\");\r\n                return;\r\n            }\r\n\r\n            toast.success(\"Login successful!\");\r\n\r\n            // Redirect based on role\r\n            if (result.role === \"admin\") {\r\n                router.push(\"/admin\");\r\n            } else {\r\n                router.push(\"/dashboard\");\r\n            }\r\n\r\n            router.refresh();\r\n        } catch (error) {\r\n            toast.error(\"An error occurred. Please try again.\");\r\n            console.error(\"Login error:\", error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4\">\r\n            <Card className=\"w-full max-w-md\">\r\n                <CardHeader className=\"space-y-1\">\r\n                    <CardTitle className=\"text-2xl font-bold text-center\">\r\n                        Welcome Back\r\n                    </CardTitle>\r\n                    <CardDescription className=\"text-center\">\r\n                        Enter your credentials to access your account\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <Form {...form}>\r\n                        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\r\n                            <FormField\r\n                                control={form.control}\r\n                                name=\"email\"\r\n                                render={({ field }) => (\r\n                                    <FormItem>\r\n                                        <FormLabel>Email</FormLabel>\r\n                                        <FormControl>\r\n                                            <Input\r\n                                                type=\"email\"\r\n                                                placeholder=\"your.email@example.com\"\r\n                                                {...field}\r\n                                                disabled={isLoading}\r\n                                            />\r\n                                        </FormControl>\r\n                                        <FormMessage />\r\n                                    </FormItem>\r\n                                )}\r\n                            />\r\n                            <FormField\r\n                                control={form.control}\r\n                                name=\"password\"\r\n                                render={({ field }) => (\r\n                                    <FormItem>\r\n                                        <FormLabel>Password</FormLabel>\r\n                                        <FormControl>\r\n                                            <Input\r\n                                                type=\"password\"\r\n                                                placeholder=\"••••••••\"\r\n                                                {...field}\r\n                                                disabled={isLoading}\r\n                                            />\r\n                                        </FormControl>\r\n                                        <FormMessage />\r\n                                    </FormItem>\r\n                                )}\r\n                            />\r\n                            <div className=\"flex items-center justify-end\">\r\n                                <Link\r\n                                    href=\"/forgot-password\"\r\n                                    className=\"text-sm text-primary hover:underline\"\r\n                                >\r\n                                    Forgot password?\r\n                                </Link>\r\n                            </div>\r\n                            <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                                {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                                Sign In\r\n                            </Button>\r\n                        </form>\r\n                    </Form>\r\n                </CardContent>\r\n                <CardFooter className=\"flex flex-col space-y-4\">\r\n                    <div className=\"text-sm text-center text-muted-foreground\">\r\n                        Don't have an account?{\" \"}\r\n                        <Link href=\"/register\" className=\"text-primary hover:underline font-medium\">\r\n                            Apply Now\r\n                        </Link>\r\n                    </div>\r\n                </CardFooter>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}