(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44618,(e,r,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},54902,(e,r,s)=>{r.exports=e.r(66659)},89954,e=>{"use strict";var r=e.i(93033),s=e.i(12065),t=e.i(90420),a=e.i(8964),o=e.i(54902),l=e.i(11804),n=e.i(77926),i=e.i(90235),c=e.i(67881),d=e.i(70065),m=e.i(23750),u=e.i(74946),x=e.i(93746);function h(){let e=(0,o.useRouter)(),[h,p]=(0,s.useState)(!1),f=(0,t.useForm)({resolver:(0,a.zodResolver)(x.loginSchema),defaultValues:{email:"",password:""}});async function j(r){p(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await s.json();if(!s.ok)return void i.toast.error(t.error||"Login failed");i.toast.success("Login successful!"),"admin"===t.role?e.push("/admin"):e.push("/dashboard"),e.refresh()}catch(e){i.toast.error("An error occurred. Please try again."),console.error("Login error:",e)}finally{p(!1)}}return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,r.jsxs)(d.Card,{className:"w-full max-w-md",children:[(0,r.jsxs)(d.CardHeader,{className:"space-y-1",children:[(0,r.jsx)(d.CardTitle,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),(0,r.jsx)(d.CardDescription,{className:"text-center",children:"Enter your credentials to access your account"})]}),(0,r.jsx)(d.CardContent,{children:(0,r.jsx)(u.Form,{...f,children:(0,r.jsxs)("form",{onSubmit:f.handleSubmit(j),className:"space-y-4",children:[(0,r.jsx)(u.FormField,{control:f.control,name:"email",render:({field:e})=>(0,r.jsxs)(u.FormItem,{children:[(0,r.jsx)(u.FormLabel,{children:"Email"}),(0,r.jsx)(u.FormControl,{children:(0,r.jsx)(m.Input,{type:"email",placeholder:"your.email@example.com",...e,disabled:h})}),(0,r.jsx)(u.FormMessage,{})]})}),(0,r.jsx)(u.FormField,{control:f.control,name:"password",render:({field:e})=>(0,r.jsxs)(u.FormItem,{children:[(0,r.jsx)(u.FormLabel,{children:"Password"}),(0,r.jsx)(u.FormControl,{children:(0,r.jsx)(m.Input,{type:"password",placeholder:"••••••••",...e,disabled:h})}),(0,r.jsx)(u.FormMessage,{})]})}),(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)(l.default,{href:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),(0,r.jsxs)(c.Button,{type:"submit",className:"w-full",disabled:h,children:[h&&(0,r.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]})})}),(0,r.jsx)(d.CardFooter,{className:"flex flex-col space-y-4",children:(0,r.jsxs)("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",(0,r.jsx)(l.default,{href:"/register",className:"text-primary hover:underline font-medium",children:"Apply Now"})]})})]})})}e.s(["default",()=>h])}]);